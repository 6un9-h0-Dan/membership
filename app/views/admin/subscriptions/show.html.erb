<p id="notice"><%= notice %></p>

<h1>
  <strong>User:</strong>
  <%= @subscription.user.blank? ? 'N/A' : @subscription.user.full_name %>
</h1>

<h3>
  <strong>Plan:</strong>
  <%= @subscription.plan.name %>
</h3>
<p>
  <strong>Plan description:</strong>
  <%= @subscription.plan.description %>
</p>

<h3>Donations</h3>
<% if @donations_history.empty? %>
  <p>We haven't received any donations from this user yet.</p>
<% else %>
  <p>Total Donated: <%= number_to_currency(@donations_history.map(&:amount).inject(0, &:+)) %></p>
  <%= react_component("DonationsTable", props: {donations: @donations_history}) %>
<% end %>

<br/>
<br/>

<%= link_to 'Edit', edit_admin_subscription_path(@subscription) %> |
<%= link_to 'Back', admin_subscriptions_path %>
